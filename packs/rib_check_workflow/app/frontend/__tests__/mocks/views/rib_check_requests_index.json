{
  "type": "VIEW",
  "url": "/api/v1/workspaces/rib_requests",
  "translations": {
    "en": {
      "page_title": "RIB Requests",
      "page_description": "Manage RIB collection requests",
      "new_request": "New Request",
      "edit_request": "Edit Request",
      "search_placeholder": "Search requests...",
      "actions": "Actions",
      "view_request": "View Request",
      "edit": "Edit",
      "delete": "Delete",
      "cancel_request": "Cancel Request",
      "delete_confirm": "Are you sure you want to delete this RIB request?",
      "cancel_confirm": "Are you sure you want to cancel this RIB request?",
      "created_at": "Created At",
      "status": "Status",
      "request_type": "Type",
      "deadline": "Deadline",
      "recipients": "Recipients",
      "request_created": "RIB request created successfully",
      "request_create_failed": "Failed to create RIB request",
      "request_updated": "RIB request updated successfully",
      "request_update_failed": "Failed to update RIB request",
      "request_deleted": "RIB request deleted successfully",
      "request_delete_failed": "Failed to delete RIB request",
      "request_cancelled": "RIB request cancelled successfully",
      "request_cancel_failed": "Failed to cancel RIB request",
      "draft": "Draft",
      "pending": "Pending",
      "partial": "Partial",
      "completed": "Completed",
      "cancelled": "Cancelled",
      "individual": "Individual",
      "common": "Common"
    },
    "fr": {
      "page_title": "Demandes RIB",
      "page_description": "Gerer les demandes de collecte RIB",
      "new_request": "Nouvelle Demande",
      "edit_request": "Modifier la Demande",
      "search_placeholder": "Rechercher des demandes...",
      "actions": "Actions",
      "view_request": "Voir la Demande",
      "edit": "Modifier",
      "delete": "Supprimer",
      "cancel_request": "Annuler la Demande",
      "delete_confirm": "Etes-vous sur de vouloir supprimer cette demande RIB?",
      "cancel_confirm": "Etes-vous sur de vouloir annuler cette demande RIB?",
      "created_at": "Cree le",
      "status": "Statut",
      "request_type": "Type",
      "deadline": "Echeance",
      "recipients": "Destinataires",
      "request_created": "Demande RIB creee avec succes",
      "request_create_failed": "Echec de la creation de la demande RIB",
      "request_updated": "Demande RIB mise a jour avec succes",
      "request_update_failed": "Echec de la mise a jour de la demande RIB",
      "request_deleted": "Demande RIB supprimee avec succes",
      "request_delete_failed": "Echec de la suppression de la demande RIB",
      "request_cancelled": "Demande RIB annulee avec succes",
      "request_cancel_failed": "Echec de l'annulation de la demande RIB",
      "draft": "Brouillon",
      "pending": "En attente",
      "partial": "Partiel",
      "completed": "Complete",
      "cancelled": "Annule",
      "individual": "Individuel",
      "common": "Commun"
    }
  },
  "api": {
    "index": {
      "method": "GET",
      "path": ""
    },
    "show": {
      "method": "GET",
      "path": ":id"
    },
    "create": {
      "method": "POST",
      "path": ""
    },
    "update": {
      "method": "PATCH",
      "path": ":id"
    },
    "destroy": {
      "method": "DELETE",
      "path": ":id"
    },
    "cancel": {
      "method": "POST",
      "path": ":id/cancel"
    }
  },
  "drawers": {
    "new_drawer": {
      "title": "new_request",
      "elements": [
        {
          "type": "FORM",
          "elements": [
            {
              "type": "GROUP",
              "elements": [
                {
                  "type": "GROUP",
                  "label": "request_details",
                  "elements": [
                    {
                      "type": "INPUT_SELECT",
                      "name": "status",
                      "label": "status",
                      "options": [
                        {
                          "label": "draft",
                          "value": "draft"
                        },
                        {
                          "label": "pending",
                          "value": "pending"
                        },
                        {
                          "label": "partial",
                          "value": "partial"
                        },
                        {
                          "label": "completed",
                          "value": "completed"
                        },
                        {
                          "label": "cancelled",
                          "value": "cancelled"
                        }
                      ]
                    },
                    {
                      "type": "INPUT_SELECT",
                      "name": "request_type",
                      "label": "request_type",
                      "options": [
                        {
                          "label": "individual",
                          "value": "individual"
                        },
                        {
                          "label": "common",
                          "value": "common"
                        }
                      ]
                    },
                    {
                      "type": "INPUT_DATETIME",
                      "name": "end_at",
                      "label": "end_at"
                    },
                    {
                      "type": "INPUT_TEXTAREA",
                      "name": "message_body",
                      "label": "message_body",
                      "placeholder": "message_body_placeholder"
                    },
                    {
                      "type": "INPUT_TEXTAREA",
                      "name": "comment",
                      "label": "comment",
                      "placeholder": "comment_placeholder"
                    }
                  ]
                },
                {
                  "type": "GROUP",
                  "label": "notification_settings",
                  "elements": [
                    {
                      "type": "INPUT_CHECKBOX",
                      "name": "notify_via_email",
                      "label": "notify_via_email"
                    },
                    {
                      "type": "INPUT_CHECKBOX",
                      "name": "notify_via_sms",
                      "label": "notify_via_sms"
                    }
                  ]
                },
                {
                  "type": "RELATIONSHIP_PICKER",
                  "name": "recipients_attributes",
                  "cardinality": "many",
                  "relationSchema": "contact",
                  "columns": [
                    {
                      "name": "first_name",
                      "type": "DISPLAY_TEXT"
                    },
                    {
                      "name": "last_name",
                      "type": "DISPLAY_TEXT"
                    },
                    {
                      "name": "email",
                      "type": "DISPLAY_TEXT"
                    }
                  ],
                  "template": [
                    {
                      "type": "INPUT_TEXT",
                      "name": "first_name",
                      "label": "first_name"
                    },
                    {
                      "type": "INPUT_TEXT",
                      "name": "last_name",
                      "label": "last_name"
                    },
                    {
                      "type": "INPUT_TEXT",
                      "name": "email",
                      "label": "email"
                    }
                  ]
                }
              ],
              "classname": "flex flex-col flex-shrink min-h-0 overflow-y-scroll p-6 space-y-12"
            },
            {
              "type": "GROUP",
              "elements": [
                {
                  "type": "SUBMIT",
                  "label": "save",
                  "loadingLabel": "saving",
                  "classname": "w-full justify-center"
                }
              ],
              "classname": "flex-shrink-0 py-3 px-6 border-t bg-white"
            }
          ],
          "classname": "flex flex-col h-full min-h-0",
          "action": "save",
          "use_record": true,
          "notification": {
            "success": "request_created",
            "error": "request_create_failed"
          }
        }
      ],
      "className": "w-1/2"
    },
    "edit_drawer": {
      "title": "edit_request",
      "elements": [
        {
          "type": "FORM",
          "elements": [
            {
              "type": "GROUP",
              "elements": [
                {
                  "type": "GROUP",
                  "label": "request_details",
                  "elements": [
                    {
                      "type": "INPUT_SELECT",
                      "name": "status",
                      "label": "status",
                      "options": [
                        {
                          "label": "draft",
                          "value": "draft"
                        },
                        {
                          "label": "pending",
                          "value": "pending"
                        },
                        {
                          "label": "partial",
                          "value": "partial"
                        },
                        {
                          "label": "completed",
                          "value": "completed"
                        },
                        {
                          "label": "cancelled",
                          "value": "cancelled"
                        }
                      ]
                    },
                    {
                      "type": "INPUT_SELECT",
                      "name": "request_type",
                      "label": "request_type",
                      "options": [
                        {
                          "label": "individual",
                          "value": "individual"
                        },
                        {
                          "label": "common",
                          "value": "common"
                        }
                      ]
                    },
                    {
                      "type": "INPUT_DATETIME",
                      "name": "end_at",
                      "label": "end_at"
                    },
                    {
                      "type": "INPUT_TEXTAREA",
                      "name": "message_body",
                      "label": "message_body",
                      "placeholder": "message_body_placeholder"
                    },
                    {
                      "type": "INPUT_TEXTAREA",
                      "name": "comment",
                      "label": "comment",
                      "placeholder": "comment_placeholder"
                    }
                  ]
                },
                {
                  "type": "GROUP",
                  "label": "notification_settings",
                  "elements": [
                    {
                      "type": "INPUT_CHECKBOX",
                      "name": "notify_via_email",
                      "label": "notify_via_email"
                    },
                    {
                      "type": "INPUT_CHECKBOX",
                      "name": "notify_via_sms",
                      "label": "notify_via_sms"
                    }
                  ]
                },
                {
                  "type": "RELATIONSHIP_PICKER",
                  "name": "recipients_attributes",
                  "cardinality": "many",
                  "relationSchema": "contact",
                  "columns": [
                    {
                      "name": "first_name",
                      "type": "DISPLAY_TEXT"
                    },
                    {
                      "name": "last_name",
                      "type": "DISPLAY_TEXT"
                    },
                    {
                      "name": "email",
                      "type": "DISPLAY_TEXT"
                    }
                  ],
                  "template": [
                    {
                      "type": "INPUT_TEXT",
                      "name": "first_name",
                      "label": "first_name"
                    },
                    {
                      "type": "INPUT_TEXT",
                      "name": "last_name",
                      "label": "last_name"
                    },
                    {
                      "type": "INPUT_TEXT",
                      "name": "email",
                      "label": "email"
                    }
                  ]
                }
              ],
              "classname": "flex flex-col flex-shrink min-h-0 overflow-y-scroll p-6 space-y-12"
            },
            {
              "type": "GROUP",
              "elements": [
                {
                  "type": "SUBMIT",
                  "label": "save",
                  "loadingLabel": "saving",
                  "classname": "w-full justify-center"
                }
              ],
              "classname": "flex-shrink-0 py-3 px-6 border-t bg-white"
            }
          ],
          "classname": "flex flex-col h-full min-h-0",
          "action": "save",
          "use_record": true,
          "notification": {
            "success": "request_updated",
            "error": "request_update_failed"
          }
        }
      ],
      "className": "w-1/2"
    },
    "view_drawer": {
      "title": "view_request",
      "elements": [
        {
          "type": "SHOW",
          "elements": [
            {
              "type": "GROUP",
              "label": "request_details",
              "elements": [
                {
                  "type": "DISPLAY_BADGE",
                  "name": "status",
                  "label": "status",
                  "options": [
                    {
                      "label": "draft",
                      "value": "draft",
                      "variant": "secondary"
                    },
                    {
                      "label": "pending",
                      "value": "pending",
                      "variant": "warning"
                    },
                    {
                      "label": "partial",
                      "value": "partial",
                      "variant": "info"
                    },
                    {
                      "label": "completed",
                      "value": "completed",
                      "variant": "success"
                    },
                    {
                      "label": "cancelled",
                      "value": "cancelled",
                      "variant": "destructive"
                    }
                  ]
                },
                {
                  "type": "DISPLAY_SELECT",
                  "name": "request_type",
                  "label": "request_type",
                  "options": [
                    {
                      "label": "individual",
                      "value": "individual"
                    },
                    {
                      "label": "common",
                      "value": "common"
                    }
                  ]
                },
                {
                  "type": "DISPLAY_DATETIME",
                  "name": "end_at",
                  "label": "end_at"
                },
                {
                  "type": "DISPLAY_LONGTEXT",
                  "name": "message_body",
                  "label": "message_body"
                },
                {
                  "type": "DISPLAY_LONGTEXT",
                  "name": "comment",
                  "label": "comment"
                }
              ],
              "className": "space-y-4"
            },
            {
              "type": "GROUP",
              "label": "notification_settings",
              "elements": [
                {
                  "type": "DISPLAY_BOOLEAN",
                  "name": "notify_via_email",
                  "label": "notify_via_email"
                },
                {
                  "type": "DISPLAY_BOOLEAN",
                  "name": "notify_via_sms",
                  "label": "notify_via_sms"
                }
              ],
              "className": "space-y-4"
            },
            {
              "type": "DISPLAY_ARRAY",
              "name": "recipients",
              "template": [
                {
                  "type": "DISPLAY_TEXT",
                  "name": "first_name",
                  "label": "first_name"
                },
                {
                  "type": "DISPLAY_TEXT",
                  "name": "last_name",
                  "label": "last_name"
                },
                {
                  "type": "DISPLAY_TEXT",
                  "name": "email",
                  "label": "email"
                }
              ],
              "label": "recipients_section"
            }
          ],
          "className": "flex flex-col p-6 space-y-8"
        }
      ],
      "className": "w-1/2"
    }
  },
  "elements": [
    {
      "type": "PAGE",
      "title": "page_title",
      "description": "page_description",
      "actions": [
        {
          "type": "LINK",
          "label": "new_request",
          "opens": "new_drawer",
          "variant": "primary"
        }
      ],
      "elements": [
        {
          "type": "GROUP",
          "elements": [
            {
              "type": "TABLE",
              "columns": [
                {
                  "name": "status",
                  "type": "DISPLAY_BADGE",
                  "label": "status",
                  "sortable": true
                },
                {
                  "name": "request_type",
                  "type": "DISPLAY_SELECT",
                  "label": "request_type",
                  "sortable": true
                },
                {
                  "name": "message_body",
                  "type": "DISPLAY_TEXT",
                  "label": "message_body"
                },
                {
                  "name": "end_at",
                  "type": "DISPLAY_DATE",
                  "label": "deadline",
                  "sortable": true
                },
                {
                  "name": "created_at",
                  "type": "DISPLAY_DATE",
                  "label": "created_at",
                  "sortable": true
                }
              ],
              "rowClick": {
                "opens": "view_drawer"
              },
              "rowActions": {
                "icon": "ellipsis",
                "elements": [
                  {
                    "type": "LINK",
                    "label": "edit",
                    "opens": "edit_drawer",
                    "icon": "pencil"
                  },
                  {
                    "type": "LINK",
                    "label": "cancel_request",
                    "api": "cancel",
                    "notification": {
                      "success": "request_cancelled",
                      "error": "request_cancel_failed"
                    },
                    "confirm": "cancel_confirm",
                    "icon": "x-circle"
                  },
                  {
                    "type": "LINK",
                    "label": "delete",
                    "api": "destroy",
                    "notification": {
                      "success": "request_deleted",
                      "error": "request_delete_failed"
                    },
                    "confirm": "delete_confirm",
                    "icon": "trash"
                  }
                ]
              },
              "classname": "bg-white rounded-lg border",
              "selectable": false,
              "searchable": true,
              "search_placeholder": "search_placeholder",
              "toggle_columns": true,
              "page_size": 10
            }
          ],
          "classname": "flex flex-col space-y-6 p-6"
        }
      ],
      "classname": "bg-slate-50"
    }
  ]
}